<!DOCTYPE html>
<html lang="en">
  <head>
<!-- 		<meta charset="utf-8"> -->
<!-- 		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
   <meta charset="utf-8" />
<!--       <title>Social Media Preview</title> -->
        <meta property="og:url" content="d13g0.nyc" />
        <meta property="og:type" content="website" />
        <meta property="fb:app_id" content="your fb id" />
        <meta property="og:title" content="... | Diego Herrera" />
        <meta name="twitter:card" contentcontent="Diego Herrera...." />
        <meta
          property="og:description"
          content="Diego Herrera....">
       		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <!-- PAGE META TAGS -->
    <meta
      name="description"
      content="Diego Herrera...."
    />
		<!-- PAGE META TAGS -->
		<meta name="author" content="Richard Yurewitch & Diego Herrera">

		<!-- TRACKING AFFILIATES AND BOTS -->
		<meta name="robots" content="noindex, nofollow">
		<meta name="googlebot" content="noindex, nofollow">

		<!-- TITLE -->
		<title>... | Diego Herrera</title>
    <link id="favicon" rel="icon" href="" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- import the webpage's stylesheet -->
<script>
      const urlParams = new URLSearchParams(document.location.search.substring(1));
 if(!urlParams.has('edit')){
    // window.location = "/?edit"
    
    }
</script>
    <link rel="stylesheet" href="/clientlib.css">
    <link rel="stylesheet" href="/nyufonts.css">
    <link rel="stylesheet" href="/style.css">
    
    <!-- import the webpage's client-side javascript file -->
    <script src="/realcrud.js" defer></script>
<!--     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
  </head>
  <body class=" GN-mquery-desktop channel">
    <header>
<!--       <h1>
        <svg id="nyulogo" xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 135 46" width="135" height="46"><path class="cls-1" d="M57.88,9.71h5.28l12.26,16v-16H81V35.78H76.1L63.5,19.08v16.7H57.88Z"/><path class="cls-1" d="M94,25.56l-10-15.85h6.64l6.3,10.56,6.3-10.56h6.46l-10,15.68V35.78H93.8V25.56Z"/><path class="cls-1" d="M112.19,24.7v-15H118V24.53c0,4.26,2,6.48,5.61,6.48s5.62-2.05,5.62-6.31v-15H135V24.53c0,7.84-4.43,11.76-11.41,11.76C116.44,36.29,112.19,32.37,112.19,24.7Z"/><path class="cls-1" d="M46,46H0V0H46V46ZM21.45,40.55c0,.34.68.51.85,0l1.53-12.78H19.92l1.53,12.78ZM25.2,26.92V25H18.56v1.88ZM23.32,24c8.34.34,9-7.32,9-10.22h0c-.17.68-1.37,2.73-4.43,4.09A7.38,7.38,0,0,0,23.32,24Zm-.85-.51c1.36-6.3,6.47-6.47,7-7.67.68-1.87-.68-5.28-1-5.62h-.17A11.15,11.15,0,0,1,25.54,14c-1,.85-5.45,4.26-3.07,9.54Zm-1,.34c-2.89-6,2.89-9.88,3.75-10.73.17-.17.17-.17.17-.34A15.55,15.55,0,0,0,24,7.33h-.17c-.51,1.87-3.06,4.6-3.57,5.28-4.43,5.11-3.41,8.35,1.19,11.24ZM20.26,24c-4.77-2.89-4.26-6.81-2.21-9.71V14a7.46,7.46,0,0,0-1.2-2.9c0-.17-.17-.17-.17,0,0,.86-1,2.9-2.38,5.12-1.36,2.38-1.36,7.66,6,7.83Z"/></svg><br>
        Directory of Schools
      </h1> -->
    </header>

    <main id="main" style="width: calc(49.9523vw);">      
<!--       <p>Let's view some links</p> -->
      
 <style>
   .displayNone{
     display: none;
   }
      </style>
      
<!--       id, name, json -->
      
      <form id="edit" method="POST" action="/data" style="display: none; width: calc(49.9523vw - 35px);">
        <div id="addschool">
          <b>Add a project!</b>
        </div>
<!--         <hr> -->
        <input id="id" type="hidden" name="id" />
        <div class="schoolenter">
<!--         <label for="author">Author:</label> -->
        <input class="displayNone" id="author" name="author" aria-label="the author" placeholder="not required">
        </div>
<!--         <hr> -->
       <div class="schoolenter FULL">
     
        
          
    <script>
    async function onChange(projectPressLinkState=false){

      
      document.getElementById("name").value = btoa(document.getElementById("preDatum").value)
      document.getElementById("HTMLblob").value = ""
      
      
      
      if(true){
      
      
        
        
//       if (document.getElementById("year").value != ""){
//         // console.log("year is in!")
//         document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<div class='fellowYear'>" + document.getElementById("year").value + "</div>"
//       }
      
      
//       if (document.getElementById("preDatum").value != ""){
//         // console.log("project name is in!")
//         document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<div class='projectName'>" + document.getElementById("preDatum").value + "</div>"
//       }
      
//       if (document.getElementById("fellowNames").value != ""){
//         // console.log("fellowNames is in!")
//         document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<div class='fellowNames'>" + document.getElementById("fellowNames").value + "</div>"
//       }
        
        document.getElementById("HTMLblob").value =  document.getElementById("HTMLblob").value+ 
          "<div class='headerContainer'>"+ 
  "<div class='nameAndTitleContainerFlex'>" + 
             "<div class='fellowNames'>" + "Description: " +
          document.getElementById("fellowNames").value + 
          "</div>" +
          "<div class='projectName'>" + 
          document.getElementById("preDatum").value + 
          "</div>" + 
        "</div>"          + "<div class='fellowYear'>" + 
          document.getElementById("year").value + 
          "</div>" + "</div>"
        
        
      } else {
        
      
      
//       //begin header info!
      
//       if (document.getElementById("year").value != ""){
//         // console.log("year is in!")
//         document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<div class='fellowYear'>" + document.getElementById("year").value + "</div>"
//       }
      
      

      
//       if (document.getElementById("fellowNames").value != ""){
//         // console.log("fellowNames is in!")
//         document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<div class='fellowNames'>" + "Description: " + document.getElementById("fellowNames").value + "</div>"
//       }
        
//               if (document.getElementById("preDatum").value != ""){
//         // console.log("project name is in!")
//         document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<div class='projectName'>" + document.getElementById("preDatum").value + "</div>"
//       }
        
//       //         if (document.getElementById("fellowNames").value != "" || document.getElementById("preDatum").value != "" || document.getElementById("year").value != ""){
//       //   document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<hr class='headerHR'>"
//       // }
        
      }
      
      //end header info!
      
      
      
      

      
      if (document.getElementById("heroImgLink").value != ""){
        // console.log("image link is in!")
if(document.getElementById("heroImgLink").value.split(".").pop() == "mp4"){
  document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<video controls class='projectHeroImg' src='" + document.getElementById("heroImgLink").value + "'></video>"
} else {
  console.log("not mp4!!")
  document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<img class='projectHeroImg' src='" + document.getElementById("heroImgLink").value + "'>"
}

        
      }
      
            if (document.getElementById("mobileImgLink").value != ""){
              if(document.getElementById("mobileImgLink").value.split(".").pop() == "mp4"){
  document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<video controls class='projectHeroImg' src='" + document.getElementById("mobileImgLink").value + "'></video>"
} else {
  document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<img class='projectHeroImg' src='" + document.getElementById("mobileImgLink").value + "'>"
}
      }
      
      if (document.getElementById("previewText").value != ""){
        // console.log("summary is in!")
        document.getElementById("HTMLblob").value = document.getElementById("HTMLblob").value + "<div class='projectSummaryText'>" + document.getElementById("previewText").value + "</div>"
      }
      


            let preview = document.querySelector("#htmlPreview")

      
      
      
      function plusify(b64string){
        b64string = b64string.replaceAll("+", "(PLUS)");
        b64string = b64string.replaceAll("/", "(SLASH)");
        // console.log(b64string)
        return b64string
      }
      
      
      document.getElementById("datum").value = 
        "{" + 
        // "\"URL\":\""+document.getElementById("URL").value + "\","+
        // "\"briefDesc\":\""+ plusify(btoa(document.getElementById("briefDesc").value)) + "\","+
        // "\"prevURL\":\""+ plusify(btoa(document.getElementById("prevURL").value)) + "\","+
        "\"fellowNames\":\""+ plusify(btoa("Description: " + document.getElementById("fellowNames").value)) + "\","+
        // "\"previewText\":\""+ btoa(document.getElementById("previewText").value) + "\","+
        "\"approved\":\""+"true"+ "\","+
        "\"HTMLblob\":\""+
        plusify(btoa(document.getElementById("HTMLblob").value))
        + "\","+
                "\"order\":\""+
        document.getElementById("order").value
        + "\","+
        "\"desktopImage\":\"" + plusify(btoa(document.getElementById("heroImgLink").value)) + "\","+
        "\"mobileImage\":\"" + plusify(btoa(document.getElementById("mobileImgLink").value)) + "\","+
         "\"mobileImageWebsite\":\"" + document.querySelector("#mobileWebsite").checked + "\","+
        "\"desktopImageWebsite\":\"" + document.querySelector("#desktopWebsite").checked + "\","+
        "\"year\":\""+btoa(document.getElementById("year").value)
        +"\"}"
      
      document.getElementById("datumNE").value = 
        "{" + 
        // "\"URL\":\""+document.getElementById("URL").value + "\","+
        // "\"briefDesc\":\""+ document.getElementById("briefDesc").value + "\","+
        // "\"prevURL\":\""+ document.getElementById("prevURL").value + "\","+
        "\"fellowNames\":\""+ "Description: " + document.getElementById("fellowNames").value + "\","+
        // "\"previewText\":\""+ document.getElementById("previewText").value + "\","+
        "\"approved\":\""+"true"+ "\","+
        "\"HTMLblob\":\""+document.getElementById("HTMLblob").value+ "\","+
                "\"order\":\""+
        document.getElementById("order").value
        + "\","+
        "\"desktopImage\":\"" + plusify(btoa(document.getElementById("heroImgLink").value)) + "\","+
        "\"mobileImage\":\"" + plusify(btoa(document.getElementById("mobileImgLink").value)) + "\","+
        "\"mobileImageWebsite\":\"" + document.querySelector("#mobileWebsite").checked + "\","+
        "\"desktopImageWebsite\":\"" + document.querySelector("#desktopWebsite").checked + "\","+
        "\"year\":\""+document.getElementById("year").value
        +"\"}"
      document.getElementById("nameandyearpreview").innerHTML = document.getElementById("year").value + ": "+document.getElementById("fellowNames").value;
      // document.getElementById("datum").value = document.getElementById("datum").value
      
      document.querySelector("#htmlPreview").innerHTML = document.getElementById("HTMLblob").value
      
    }
      
      
      function onChangeHTML(){
      
      function plusify(b64string){
        b64string = b64string.replaceAll("+", "(PLUS)");
        b64string = b64string.replaceAll("/", "(SLASH)");
        // console.log(b64string)
        return b64string
      }
        
         document.getElementById("datum").value = 
        "{" + 
        // "\"URL\":\""+document.getElementById("URL").value + "\","+
        // "\"briefDesc\":\""+ plusify(btoa(document.getElementById("briefDesc").value)) + "\","+
        // "\"prevURL\":\""+ plusify(btoa(document.getElementById("prevURL").value)) + "\","+
        "\"fellowNames\":\""+ plusify(btoa(document.getElementById("fellowNames").value)) + "\","+
        // "\"previewText\":\""+ btoa(document.getElementById("previewText").value) + "\","+
        "\"HTMLblob\":\""+
        plusify(btoa(document.getElementById("HTMLblob").value))
        + "\","+
        "\"order\":\""+
        document.getElementById("order").value
        + "\","+
           
        "\"year\":\""+btoa(document.getElementById("year").value)
        +"\"}"
        
        document.querySelector("#htmlPreview").innerHTML = document.getElementById("HTMLblob").value
        
      }
    
    </script>
          
        
        
        

         
        
        </div>
        
                  <div id="dropdowncontainer">
            
         

             </div>
          <hr>
         <br>Order:<br>
        <textarea id="order" name="order" aria-label="a data blob" type="text" placeholder="1" oninput="onChange()" onchange="onChange()"></textarea>
        
         <br>Year:<br>
        <textarea id="year" name="year" aria-label="a data blob" type="text" placeholder="YEAR" oninput="onChange()" onchange="onChange()"></textarea>
        <br><br>
           Description <i>Will appear as the description</i>: <br>
          <textarea id="fellowNames" name="fellowNames" aria-label="a data blob" type="text" placeholder="fellowNames" oninput="onChange()" onchange="onChange()"></textarea><br>
        <label for="data" class="fullname">Project DescLines (<i>Will appear as the project desc lines</i>):</label>  <br>
        <textarea id="preDatum" name="PreData" aria-label="a data blob" type="text" placeholder="e.g. This and the theory of...." oninput="onChange()" onchange="onChange()"></textarea>
      <br><br>
<!--          <br>URL (<i>Appears as the part of the link after /project/</i>):<br>
         <textarea id="URL" name="URL" aria-label="a data blob" type="text" placeholder="URL" oninput="onChange()" onchange="onChange()"></textarea><br>
        
          <br>briefDesc (<i>Appears as the brief description for the project on the homepage (not visible for preview here)</i>):<br>
         <textarea id="briefDesc" name="briefDesc" aria-label="a data blob" type="text" placeholder="briefDesc" oninput="onChange()" onchange="onChange()"></textarea><br>
        
          <br>prevURL (<i>Appears as the project image for the project on the homepage (not visible for preview here)</i>):<br>
         <textarea id="prevURL" name="prevURL" aria-label="a data blob" type="text" placeholder="prevURL" oninput="onChange()" onchange="onChange()"></textarea><br> -->
        
        <div id="nameandyearpreview" class="schoolenter">
<!--          <label for="name">Preview entry:</label> -->
          
        </div>
<!--         <div id="namepreview"> -->
<!--           ProjName -->
<!--         </div> -->
        
        <br><hr><br>
        CONTENT:<br><br>
        <textarea class="displayNone" id="name" name="name" aria-label="a name" type="text"  placeholder="Project Name" oninput="onChange()" onchange="onChange()"></textarea><br>
      
         <br> HeroImageLink (<i>Appears as the desktop image</i>) (can be a video): <br>
          <textarea id="heroImgLink" name="heroImgLink" aria-label="a data blob" type="text" placeholder="use relative link /img/..." oninput="onChange()" onchange="onChange()"></textarea><br>
         <br>DesktopImageWebsite (<i>Is the desktop image a website?</i>): <br>
         <input type="checkbox" id="desktopWebsite" name="mobileImgLink" aria-label="a data blob"  oninput="onChange()" onchange="onChange()"><br>--       
  
        
                 <br> MobileImageLink (<i>Appears as the mobile image</i>) (can be a video): <br>
          <textarea id="mobileImgLink" name="mobileImgLink" aria-label="a data blob" type="text" placeholder="use relative link /img/..." oninput="onChange()" onchange="onChange()"></textarea><br>
                         <br>MobileImageWebsite (<i>Is the mobile image a website?</i>): <br>
          <input type="checkbox" id="mobileWebsite" name="mobileImgLink" aria-label="a data blob"  oninput="onChange()" onchange="onChange()"><br>
<!--         NOT CODED YET ^^ -->
        
<!--         <br> Summary (<i>Appears below the image</i>): <br> -->
          <textarea class="displayNone" id="previewText" name="previewText" aria-label="a data blob" type="text" placeholder="previewText" oninput="onChange()" onchange="onChange()"></textarea><br>
        
        

        <br><hr><br><br>
        DATA:<br>
        <br>HTML (Will generate):<br>
        <b>IMPORTANT: Do not edit unless you're sure of what you're doing!</b><br>
         <textarea id="HTMLblob" name="HTMLblob" aria-label="a data blob" type="text" placeholder="<div></div>" oninput="onChangeHTML()" onchange="onChangeHTML()"></textarea>
      <br><br>
        
        
        
       
        Preview Data (non-encoded):<br>
         <textarea id="datumNE" name="dataNE" aria-label="a data blob" type="text" placeholder="{'0':'ETC'}"></textarea>
     <br>
        
          Preview Data (encoded):
          <textarea id="datum" name="data" aria-label="a data blob" type="text" placeholder="{'0':'ETC'}"></textarea>
     
        
        <hr>
      <button type="submit" id="submit">Submit entry</button>
      </form>  
      
      
      
    
          <section class="data-list">
                  <div id="addcontainer">
<!--         <a href="/">Back</a> -->
        <a href="/">Home</a> | <a id="add" href="/edit/?add">Add entry</a> | <a target="_blank" href="/addImage">ADD IMAGES/FILES ðŸ¥°</a> | <a href="/logout">Log out Admin</a> 
<!--         <a href="/?edit">Edit</a> -->
<!--         <a href="/?erase"> Erase all links</a> -->
      </div>
        <ul id="data"></ul>
      </section>  
    
      
                           <div onresize="onResize()" class="window" id="window">


        <div id="htmlPreview">
        
      </div>
                             
                             <div id="leftResize">
                               
                             </div>

</div>
      



          
<style>
  .headerContainer{
    display: flex;
    justify-content: space-between;
  }
  
  #window{
    position: fixed;
    left: 50vw;
    top: 0px;
    width: calc( 50vw - 2px );
    height: 100vh; 
    border-left:0px;
    overflow: scroll;
  }
  
  #htmlPreview{
    height: 100%;
/*     padding-bottom: 100px; */
  }
  
  #leftResize{
    position:absolute;
    left: 0px;
    width: 2px;
    height: 100vh;
    top: 0px;
    background-color:black;
    cursor: col-resize;
  }
  
  main{
    width: calc(50vw - 20px);
/*     padding-right:20px; */
    overflow:scroll;
    height: 100vh;
  }
  
  #edit{
/*     padding-right:20px; */
    width: calc(50vw - 20px);
  }
  
  body{
    overflow: hidden;
  }
      </style>
      
      
      
      
    </main>
    
<script>
  let x, y
  
  var startResize = function(evt) {
    // console.log("startResize!")
  x = evt.screenX;
  y = evt.screenY;
};
  
  
    var resize = function(evt) {
      // console.log("resize!")
  x = evt.screenX;
  let xPercent = x/window.innerWidth
  // console.log(xPercent*100)
  xPercent = xPercent*100
  document.getElementById("edit").style.width = "calc( "+ xPercent + "vw " + "- 35px )"
  document.getElementById("main").style.width = "calc( "+ xPercent + "vw " + " )"
  document.getElementById("window").style.width = "calc( "+ (100 - xPercent) + "vw " + "- 2px )"
  document.getElementById("window").style.left = xPercent + "vw"

};

document.getElementById("leftResize").addEventListener("mousedown", function(evt) {
  startResize(evt);
  document.body.addEventListener("mousemove", resize);
  document.body.addEventListener("mouseup", function() {
  document.body.removeEventListener("mousemove", resize);
  });
});
    </script>
    
    <section id="actions">
    
    </section>

  

 
    
<!-- 
    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
<!--     <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script src="https://button.glitch.me/button.js"></script> -->


    <footer>
Footer Text
</footer>
  </body>
</html>
